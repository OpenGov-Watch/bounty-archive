# Polkadot Bounty Archive - Scraping Configuration
# Central configuration for all scraping operations

version: "1.0"

# ========== Default Scraping Settings ==========

# Default mode for all suggestions
# "single" = scrape just the URL
# "recursive" = scrape the URL and follow internal links
default_mode: "single"

# Settings for recursive mode
recursive_defaults:
  max_depth: 2

# Settings for single page mode
single_defaults:
  max_depth: 1

# ========== HTTP Settings ==========

# Rate limit delay between requests (seconds)
rate_limit_delay: 1.0

# HTTP request timeout (seconds)
request_timeout: 30

# User agent string for requests
user_agent: "PolkadotBountyArchive/1.0 (https://github.com/OpenGov-Watch/bounty-archive)"

# ========== Auto-Accept Rules ==========

# URLs matching these patterns are auto-accepted during review
# Format: domain can be exact match or subdomain pattern
auto_accept:
  # Documentation sites
  - domain: "docs.google.com"
  - domain: "notion.site"

  # Forms
  - domain: "form.typeform.com"
  - domain: "forms.monday.com"
  - domain: "forms.gle"

# ========== URL Categorization ==========

# Category-first structure: each category contains list of domain patterns
# Patterns support substring matching (e.g., "docs." matches docs.substrate.io)
categorization:
  social:
    - "twitter.com"
    - "x.com"
    - "t.me"
    - "telegram.org"
    - "telegram.me"
    - "discord.gg"
    - "discord.com"
    - "matrix.to"
    - "matrix.org"

  github:
    - "github.com"

  documentation:
    - "docs.google.com"
    - "notion.site"
    - "notion.so"
    - "docs."              # Matches docs.* subdomains
    - "wiki."              # Matches wiki.* subdomains
    - ".gitbook.io"        # Matches *.gitbook.io

  form:
    - "forms.google.com"
    - "forms.gle"
    - "forms.monday.com"
    - "form.typeform.com"
    - "typeform.com"

  governance:
    - "subsquare.io"
    - "polkassembly.io"

# Type mapping: determines if URL should be scraped or just linked in metadata
# Priority order: social > associated_url > scrape (default)
type_mapping:
  social: ["social"]
  associated_url: ["github"]
  # Everything else defaults to "scrape"

# ========== Ignored URLs ==========

# URLs and domains that should never be scraped or suggested
# Supports both specific URLs and domain patterns (use domain without https://)
ignored:
  - url: https://polkassembly.io
    reason: On-chain data - not documentation
  - url: https://polkadot.js.org
    reason: App interface - not documentation
  - url: https://www.marketing-bounty.com/
    reason: Taken down
  - url: https://marketingbounty.notion.site/MB-Spending-Tracker-15a4aaf5ccba80aeb9bcd73cd048dbd8
    reason: Taken down
  - url: https://polkadotplay.org
    reason: SSL certificate error - hostname mismatch
  - url: https://hackenproof.com/programs/polkadot-bridge
    reason: HTTP 403 - blocked for agents?
  - url: https://github.com/opensquare-network/subsquare/issues
    reason: Issue tracker - not documentation
  - url: https://app.element.io
    reason: App interface - not documentation
  - url: https://wiki.polkadot.network
    reason: Official Polkadot wiki - out of scope
